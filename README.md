Менеджер катушек для клиппера.

В конфиге moonraker.conf нужно добавить секцию

[spool_event]
printer_serial: UltiSteel

Серийный номер принтера нужен для много принтерных систем.

Сами принтеры добавляются напрямую в базу sqlite (интерфейса для этого нет, так как это оооочень не частая операция).

По окончанию печати данные отправляются на url (задается в klipper/moonraker/moonraker/components/spool_event.py).
В данных содержится:
1. Идентификатор принтера
2. Количество используемого филамента в мм (надо уточнить единицу измерения, но вроде в мм).
3. Имя файла.

Менеджер катушек пересчитывает длину в граммы на основе заданой плотности в свойствах материала, но считает что филамент диаметром 1.75 (можно добавить передачу сразу в граммах)
и отнимает ее от веса текущей катушки.

Так же менеджер катушек сохраняет историю печати с количество потраченного филамента.


П.с. код написан на коленке, не претендует на качество и красоту.
